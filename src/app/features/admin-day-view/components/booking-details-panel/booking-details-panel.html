@if (open) {

<!-- Backdrop -->
<div class="fixed inset-0 bg-black/30 z-40" (click)="close.emit()">
</div>

<!-- Panel -->
<aside class="
      fixed right-0 top-0 bottom-0
      w-90
      bg-white
      z-50
      shadow-xl
      flex flex-col
    ">

    <!-- Header -->
    <div class="flex items-center justify-between px-5 h-14 border-b">
        <h3 class="font-semibold text-gray-900">Booking Details</h3>
        <button class="text-gray-400 hover:text-gray-600 cursor-pointer" (click)="close.emit()">âœ•</button>
    </div>

    <!-- Content -->
    <div class="flex-1 overflow-auto px-5 py-4 space-y-4">

        <!-- User -->
        <div class="flex items-center gap-3">
            <div>
                <div class="font-medium">{{ booking.customerName }}</div>
                <div class="text-sm text-gray-500">ðŸ“ž {{ booking.phone }}</div>
            </div>
        </div>

        <hr class="border-gray-200" />

        <!-- Court / Time -->
        <div class="text-sm font-medium">
            {{ booking.courtName }} Â· {{ booking.start }} â€“ {{ booking.end }}
            <span class="text-gray-500">({{ booking.duration }} min)</span>
        </div>

        <hr class="border-gray-200" />

        <!-- Status -->
        <div class="text-sm">
            Status:
            <span class="font-semibold" [ngClass]="{
            'text-red-600': booking.status === 'unpaid',
            'text-green-600': booking.status === 'paid',
            'text-yellow-600': booking.status === 'partial'
          }">
                {{ booking.status | titlecase }}
            </span>
        </div>

        <!-- Payment -->
        <!-- <div class="text-sm">
            Payment:
            <span class="font-medium">
                {{ booking.paymentMethod }}
            </span>
        </div> -->

    </div>

    <!-- Actions -->
    <div class="px-5 py-4 border-t space-y-2">

        @if (booking.status !== 'paid') {
        <button class="w-full bg-blue-600 text-white py-2 rounded-md font-medium cursor-pointer"
            (click)="markPaid.emit()">
            Mark as Paid
        </button>
        }

        <button class="w-full border py-2 rounded-md cursor-pointer" (click)="edit.emit()">
            Edit Booking
        </button>

        <button class="w-full border py-2 rounded-md text-red-600 cursor-pointer" (click)="cancel.emit()">
            Cancel Booking
        </button>

        <button class="w-full border py-2 rounded-md cursor-pointer" (click)="addNote.emit()">
            Add Note
        </button>

    </div>

</aside>
}